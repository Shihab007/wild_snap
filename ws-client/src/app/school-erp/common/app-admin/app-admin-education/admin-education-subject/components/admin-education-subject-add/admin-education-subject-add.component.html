<section id="appViewPage">
    <form #createEducationSubject="ngForm" novalidate autocomplete="off">
        <!-- Create Part Start -->
        <section id="create-main">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="create-header main-title">
                            <h4 class="just-grd">
                                {{ "Education_Subject" | translate }}
                            </h4>
                        </div>
                    </div>
                </div>
                <!-- principal and accountant -->

                <div class="row mt-5">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "subject_name_en" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input #nameEn #name_en="ngModel" type="text" class="form-control" [pattern]="nameEnPattern" [(ngModel)]="educationSubjectAddRequestBody.nameEn" name="nameEn" id="nameEn" placeholder="{{ 'subject_name_en' | translate }}" required />
                        </div>
                        <div [hidden]="name_en.valid || name_en.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!name_en.hasError('pattern')">
                                    Pleae input valid name and dont use 0-9, !, @, $, %, ^ ,* etc
                                </div>
                            </div>
                        </div>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "subject_name_bn" | translate }}
                                    </p>
                                </div>
                            </div>
                            <input #nameBn #name_bn="ngModel" type="text" class="form-control" pattern="[ঀ-৿\s:]*" [(ngModel)]="educationSubjectAddRequestBody.nameBn" name="nameBn" id="nameBn" placeholder="{{ 'subject_name_bn' | translate }}" required />
                        </div>
                        <div [hidden]="name_bn.valid || name_bn.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!name_bn.hasError('pattern')">
                                    Pleaes input valid bangla name
                                </div>
                            </div>
                        </div>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "subject_code" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input
                                #subjectCode
                                #subject_code="ngModel"
                                type="text"
                                class="form-control"
                                [pattern]="numberPattern"
                                [(ngModel)]="educationSubjectAddRequestBody.subjectCode"
                                name="subjectCode"
                                id="subjectCode"
                                placeholder="{{ 'subject_code' | translate }}"
                                required
                            />
                        </div>
                        <div [hidden]="subject_code.valid || subject_code.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!subject_code.hasError('pattern')">
                                    Please input valid subject code
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>{{ "Subject_Type" | translate }} <span>*</span></p>
                                </div>
                            </div>
                            <select #subjectType name="subjectType" class="form-control select-arrow" [(ngModel)]="educationSubjectAddRequestBody.subjectType">
                                <option value="undefined" selected disabled>
                                    -- {{ "Subject_Type" | translate }} --
                                </option>
                                <option value="Compulsory"> {{'Compulsory' | translate}} </option>
                                <option value="Fourth"> {{'Fourth' | translate}} </option>
                                <option value="Optional"> {{'Optional' | translate}} </option>
                            </select>
                        </div>

                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>{{ "education_session" | translate }} <span>*</span></p>
                                </div>
                            </div>
                            <select #educationSession name="education_session" class="form-control select-arrow" [(ngModel)]="educationSubjectAddRequestBody.educationSessionOid">
                                <option value="undefined" selected disabled>
                                    -- {{ "education_session" | translate }} --
                                </option>
                                <option *ngFor="let session of educationSessionList" value="{{ session.oid }}">
                                        {{ local === "en" ? session.nameEn : session.nameBn }}
                                    </option>
                            </select>
                        </div>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>{{ "education_group" | translate }} <span>*</span></p>
                                </div>
                            </div>
                            <select #educationSession name="education_group" class="form-control select-arrow" [(ngModel)]="educationGroupOid">
                                <option value="undefined" selected>
                                    -- {{ "education_group" | translate }} --
                                </option>
                                <option *ngFor="let group of educationGroupList" value="{{ group.oid }}">
                                        {{ local === "en" ? group.nameEn : group.nameBn }}
                                    </option>
                            </select>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "total_mark" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input
                                #totalMarks
                                #total_mark="ngModel"
                                type="text"
                                class="form-control"
                                [pattern]="numberPattern"
                                [(ngModel)]="educationSubjectAddRequestBody.totalMarks"
                                name="totalMarks"
                                id="totalMarks"
                                placeholder="{{ 'total_mark' | translate }}"
                                required
                                (keyup)="isValidMark()"
                            />
                        </div>
                        <div [hidden]="total_mark.valid || total_mark.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!total_mark.hasError('pattern')">
                                    Please input valid total mark
                                </div>
                            </div>
                        </div>
                 
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "written_marks" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input
                                #writtenMarks
                                #written_marks="ngModel"
                                type="text"
                                class="form-control"
                                [pattern]="numberPattern"
                                [(ngModel)]="educationSubjectAddRequestBody.writtenMarks"
                                name="writtenMarks"
                                id="writtenMarks"
                                placeholder="{{ 'written_marks' | translate }}"
                                required
                                (keyup)="isValidMark()"
                            />
                        </div>
                        <div [hidden]="written_marks.valid || written_marks.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!written_marks.hasError('pattern')">
                                    Please input valid written mark
                                </div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "mcq_marks" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input
                                #mcqMarks
                                #mcq_marks="ngModel"
                                type="text"
                                class="form-control"
                                [pattern]="numberPattern"
                                [(ngModel)]="educationSubjectAddRequestBody.mcqMarks"
                                name="mcqMarks"
                                id="mcqMarks"
                                placeholder="{{ 'mcq_marks' | translate }}"
                                required
                                (keyup)="isValidMark()"
                            />
                        </div>
                        <div [hidden]="mcq_marks.valid || mcq_marks.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!mcq_marks.hasError('pattern')">
                                    Please input valid mcq mark
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "practical_marks" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input
                                #practicalMarks
                                #practical_marks="ngModel"
                                type="text"
                                class="form-control"
                                [pattern]="numberPattern"
                                [(ngModel)]="educationSubjectAddRequestBody.practicalMarks"
                                name="practicalMarks"
                                id="practicalMarks"
                                placeholder="{{ 'practical_marks' | translate }}"
                                (keyup)="isValidMark()"
                            />
                        </div>
                        <div [hidden]="practical_marks.valid || practical_marks.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!practical_marks.hasError('pattern')">
                                    Please input valid practival mark
                                </div>
                            </div>
                        </div>

                        <div class="input-group">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <p>
                                        {{ "viva_marks" | translate }}
                                        <span>*</span>
                                    </p>
                                </div>
                            </div>
                            <input
                                #vivaMarks
                                #viva_marks="ngModel"
                                type="text"
                                class="form-control"
                                [pattern]="numberPattern"
                                [(ngModel)]="educationSubjectAddRequestBody.vivaMarks"
                                name="vivaMarks"
                                id="vivaMarks"
                                placeholder="{{ 'viva_marks' | translate }}"
                                (keyup)="isValidMark()"
                            />
                        </div>
                        <div [hidden]="viva_marks.valid || viva_marks.pristine" class="error-box">
                            <div class="error-message">
                                <div [hidden]="!viva_marks.hasError('pattern')">
                                    Please input valid viva mark
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- principal and accountant -->

                <div class="row mt-4">
                    <div class="col-lg-12"></div>
                    <div class="col-lg-7 m-auto">
                        <div class="create-details">
                            <div class="create-details-headline text-center">
                                <h5>{{ "Institute Details" | translate }}</h5>
                            </div>
                        </div>
                        <div class="create-details">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <p>{{ "Education Medium" | translate }} <span>*</span></p>
                                    </div>
                                </div>
                                <select #educationMedium name="educationMedium" class="form-control select-arrow" [(ngModel)]="educationSubjectAddRequestBody.educationMediumOid" (change)="changeMedium($event)">
                                    <option value="undefined" selected disabled>
                                        -- {{ "Select Education Medium" | translate }} --
                                    </option>
                                    <option *ngFor="let medium of educationMediumList" value="{{ medium.oid }}">
                                        {{ local === "en" ? medium.nameEn : medium.nameBn }}
                                    </option>
                                </select>
                            </div>

                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <p>{{ "Education Curriculum" | translate }}<span>*</span></p>
                                    </div>
                                </div>
                                <select #educationCurriculum name="educationCurriculum" class="form-control select-arrow" [(ngModel)]="educationSubjectAddRequestBody.educationCurriculumOid" (change)="changeCurriculum($event)">
                                    <option value="undefined" selected disabled>
                                        -- {{ "Select Education Curriculum" | translate }} --
                                    </option>
                                    <option *ngFor="let curriculum of educationCurriculumList" value="{{ curriculum.oid }}">
                                        {{ local === "en" ? curriculum.nameEn : curriculum.nameBn }}
                                    </option>
                                </select>
                            </div>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <p>{{ "Education System" | translate }} <span>*</span></p>
                                    </div>
                                </div>
                                <select #educationSystem name="educationSystem" class="form-control select-arrow" [(ngModel)]="educationSubjectAddRequestBody.educationSystemOid" (change)="changeEducationSystem($event)">
                                    <option value="undefined" selected disabled>
                                        -- {{ "Select Education System" | translate }} --
                                    </option>
                                    <option *ngFor="let eduSystem of educationSystemList" value="{{ eduSystem.oid }}">
                                        {{ local === "en" ? eduSystem.nameEn : eduSystem.nameBn }}
                                    </option>
                                </select>
                            </div>

                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <p>{{ "Education_Version" | translate }} <span>*</span></p>
                                    </div>
                                </div>
                                <div class="check-group">
                                    <div class="form-check" *ngFor="let version of educationVersionList; let i = index">
                                        <input #educationVersion id="educationVersion_{{ i }}" class="form-check-input" [(ngModel)]="version.check" value="{{ version.oid }}" type="checkbox" name="educationVersion" />
                                        <label class="form-check-label" for="educationVersion_{{ i }}">{{ local === "en" ? version.nameEn : version.nameBn }}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="educationTypeList.length > 0">
                    <div class="col-lg-7">
                        <div class="create-details">
                            <div class="create-details-headline">
                                <h5>{{"Institute_Education_Type" | translate}}</h5>
                            </div>
                            <div class="input-group check-edutype">
                                <div class="check-group g-list">
                                    <div *ngFor="let eduType of educationTypeList; let i = index" value="{{ eduType.oid }}" class="form-check">
                                        <input #educationType id="educationType_{{ i }}" class="form-check-input" type="checkbox" name="educationType_{{ i }}" [(ngModel)]="eduType.check" value="eduType.oid" />
                                        <label class="form-check-label" for="educationType_{{ i }}">
                                            <p>
                                                {{ local === "en" ? eduType.nameEn : eduType.nameBn }}
                                            </p>
                                            <span>:</span>
                                            <p>
                                                {{ local === "en" ? eduType.educationClassLevelNameEn : eduType.educationClassLevelNameBn }}
                                            </p>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="create-details">
                            <div class="create-details-headline">
                                <h5>{{'Education_Grading_System' | translate}}</h5>
                            </div>
                            <ul class="detail-list">
                                <li *ngFor="let eduGradingSystem of educationGradingSystemList">
                                    <p>
                                        {{ local === "en" ? eduGradingSystem.nameEn : eduGradingSystem.nameBn }}
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="btn-section" style="margin-top: 80px;">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="all-btn-box">
                            <button type="button" (click)="createSubject()" [disabled]="createEducationSubject.invalid" class="btn btn-outline-success"><i class="fas fa-save"></i>&nbsp;&nbsp; {{ "Save" | translate }}</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </form>
</section>
